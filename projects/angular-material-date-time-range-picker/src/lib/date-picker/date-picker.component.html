<div #dateRangeButton
     [attr.id]="id"
     [attr.aria-label]="'选择日期时间范围'"
     [attr.aria-disabled]="disabled"
     (click)="!disabled && openDateDialogSelector()"
     (keydown.enter)="!disabled && openDateDialogSelector()"
     (keydown.space)="!disabled && openDateDialogSelector()"
     tabindex="0"
     [attr.role]="'button'"
     class="date-range-container flex items-center gap-2">

  @if (selectedDateRange()) {
    <div class="flex-1 truncate text-sm">
      <div class="text-[0.875rem] leading-tight">
        <span>{{ selectedDateRange()?.start | date: dateFormat }}</span>
      </div>
      <div class="text-[0.75rem] leading-tight opacity-75">
        <span>{{ selectedDateRange()?.end | date: dateFormat }}</span>
      </div>
    </div>
  }

  <i-tabler name="calendar-due" strokeWidth="2px" size="15px" class="text-current shrink-0 ml-auto"/>

  @if (selectedDateRange()) {
    <i-tabler (click)="selectedDateRange.set(undefined); $event.stopPropagation()"
             name="x" strokeWidth="3px" size="15px" class="text-current cursor-pointer shrink-0"
             [attr.aria-label]="'清除日期选择'"
             tabindex="0"
             (keydown.enter)="selectedDateRange.set(undefined); $event.stopPropagation()"
             (keydown.space)="selectedDateRange.set(undefined); $event.stopPropagation()"
             [attr.role]="'button'"/>
  }
</div>
