<div
  #dateRangeButton
  [attr.id]="id"
  [attr.aria-label]="'选择日期时间范围'"
  [attr.aria-disabled]="disabled"
  (click)="!disabled && openDateDialogSelector()"
  (keydown.enter)="!disabled && openDateDialogSelector()"
  (keydown.space)="!disabled && openDateDialogSelector()"
  [tabindex]="disabled ? -1 : 0"
  [attr.role]="'button'"
  class="date-range-container"
>
  @if (selectedDateRange()) {
    <div class="date-range-content">
      <div class="date-range-primary">
        {{ displayStart() }}
      </div>
      <div class="date-range-secondary">
        {{ displayEnd() }}
      </div>
    </div>
  } @else if (placeholder) {
    <span class="date-range-placeholder">{{ placeholder }}</span>
  } @else {
    <div class="date-range-content"></div>
  }

  <div class="date-range-actions">
    @if (selectedDateRange() && !disabled) {
      <button
        (click)="clear($event)"
        type="button"
        class="date-range-clear-btn"
        [attr.aria-label]="'清除日期选择'"
        [tabindex]="disabled ? -1 : 0"
        [disabled]="disabled"
        (keydown.enter)="clear($event)"
        (keydown.space)="clear($event)"
        [attr.role]="'button'"
      >
        <i-tabler name="x" strokeWidth="2.5px" size="18px" class="date-range-icon" />
      </button>
    }

    <i-tabler name="calendar-due" strokeWidth="2px" size="18px" class="date-range-icon" />
  </div>
</div>
